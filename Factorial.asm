PUSH 0
POPREG AX
IN
POPREG CX
PUSH 1
POPREG BX
CALL :factorial
HLT

:factorial
PUSHREG BX
PUSHREG AX
PUSH 1
ADD
POPREG AX
PUSHREG AX
MUL
POPREG BX
PUSHREG BX
OUT
PUSHREG AX
PUSHREG CX
JAE :out
CALL :factorial
:out
RET