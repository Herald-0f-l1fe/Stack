IN
POPREG AX
PUSHREG AX
PUSH 0
JA :1
PUSH -1
OUT
HLT
:1
PUSHREG AX
IN 
IN
CALL :3
POPREG D
PUSHREG D
PUSH 0
JAE :2
PUSH -666
OUT
HLT
:2
PUSH -1
PUSHREG B
MUL
PUSHREG D
SQVRT
SUB
PUSH 2
PUSHREG A
MUL
DIV
OUT
PUSH -1
PUSHREG B
MUL
PUSHREG D
SQVRT
ADD
PUSH 2
PUSHREG A
MUL
DIV
OUT
HLT
:3
POPREG CX
POPREG BX
POPREG AX
PUSHREG BX
PUSHREG BX
MUL
PUSHREG AX
PUSHREG CX
PUSH 4
MUL
MUL
SUB
RET